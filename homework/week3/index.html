<!--
-	Course: Data Processing 
-	Name: Marwa Ahmed 
-	Student number: 10747141
-	Create a bar chart in D3
-->

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<script type="text/javascript" src="d3/d3.v3.js"></script>
		<script type="text/javascript">
			d3.select("head").append("title").text("Creating an interactive bar chart using D3");
		</script>
	</head>
	<body>
		<script type="text/javascript">
			d3.select("body").append("p").text("Name: Marwa Ahmed, Student number: 10747141");
			d3.select("body").append("p").text("This bar chart visualizes the number of students per province in the Netherlands.");


// http://www.tutorialsteacher.com/d3js/loading-data-from-file-in-d3js
			// load data
			d3.json("datasets.json", function(error, dataset){
				if(error) {
					return console.warn(error);
				}

				// d3.select("body")
				// .selectAll("p")
				// .data(dataset.data)
				// .enter()
				// .append("p")
				// .text(function(d) {
				// 	return d.province + ',' + d.NoStudents; 
				// });


				// width and height
				var svgWidth = 600;
				var svgHeight = 300;
				var h = 100
				var barPadding = 1;
				var padding = 20;
				var margin = {left: 20, right: 20, top: 20, bottom: 20};

//var maxProv = d3.max(dataset.data, function(d){ return dataset[0] })

				// var xScale = d3.scale.ordinal()
				// 					 .domain(dataset.data.map(function(d){ return d.province ; } ))
				// 					 .range([margin.left, svgWidth - margin.right]);


				// var minData = d3.min(dataset.data, function(d){return d.NoStudents[1]; })
				// var maxData = d3.max(dataset.data, function(d){return d.NoStudents[1]; })
								
				// var yScale = d3.scale.linear()
				// 					 .domain([minData, maxData])
				// 					 .range([margin.top, svgHeight - margin.bottom]);
								
				// var yScale = d3.scale.linear()
				// 					 .domain([0, maxData])
				// 					 .range([0, svgHeight]);


				// create svg element
				var svg = d3.select("body")
							.append("svg")
							.attr("width", svgWidth)
							.attr("height", svgHeight);

							svg.selectAll("rect")
							.data(dataset.data)
							.enter()
							.append("rect")
							.attr("x", function(d, i){
								//return xScale(d.province.length)
								return i * (svgWidth/dataset.data.length);
							})
							//height minus data value
							.attr("y", function(d){
								return svgHeight - d.NoStudents/250;
							})
							.attr("width", svgWidth/dataset.data.length - barPadding)
							.attr("height", function(d){
								return d.NoStudents/250;
							})
							 .attr("fill", "teal");

							svg.selectAll("text")
								.data(dataset.data)
								.enter()
								.append("text")
								.text(function(d){
									return d.NoStudents;
								})
								.attr("text-anchor", "middle")
								.attr("x", function(d, i){
									return i * (svgWidth/dataset.data.length) + (svgWidth/dataset.data.length - barPadding)/ 2;
								})
								.attr("y", function(d){
									return svgHeight - (d.NoStudents/10000);
								})
								.attr("font-family", "sans-serif")
								.attr("font-size", "11px")
								.attr("fill", "");

					// Axis
					var xAxis = d3.svg.axis()



			});
		</script>


<!-- 		<svg width="500" height="100">
			<rect x="0" y="0" width="50" height="750" fill="purple" stroke="pink" stroke-width="5"/>
			<line x1="0" y1="100" x2="500" y2="100" stroke="black"/>
			<text x="250" y="15">Title</text>
		</svg> -->

		<div class="bar"></div>
	</body>
</html>







